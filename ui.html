<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css"
/>

<style>
  .container {
    padding: 0 1rem;
  }

  .row-input {
    display: flex;
    align-items: center;
    flex-direction: row;
    justify-content: space-between;
    height: 2rem;
  }

  .input-width {
    width: 4rem;
  }

  .section {
    padding-bottom: 0.5rem;
    padding-top: 0.5rem;
    /* background-color: orange; */
    border-top: 1px solid var(--figma-color-border);
  }

  .section-top {
    border-top: none;
  }

  .button-row {
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-top: 1px solid var(--figma-color-border);
  }

  /* Custom Figma style input slider */
  input[type="range"] {
    appearance: none;
    cursor: pointer;
    width: 3.5rem;
    border-radius: 100px;
    background-color: transparent;
  }

  /* Removes default focus */
  input[type="range"]:focus {
    outline: none;
  }

  input[type="range"]::-webkit-slider-runnable-track {
    border-radius: 100px;
    border: 1px solid var(--figma-color-border-disabled-strong);
    height: 0.75rem;
  }

  input[type="range"]::-moz-range-track {
    background: var(--figma-color-bg-secondary);
    border-radius: 100px;
    height: 0.75rem;
  }

  input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    background-color: var(--figma-color-bg-brand);
    margin-top: -1px;
    height: 0.75rem;
    width: 0.75rem;
    border-radius: 1rem;
    border: 2px solid var(--figma-color-border-onbrand-strong);
    box-shadow: 0px 0px 0px 1px var(--figma-color-border-disabled-strong);
  }
  input[type="range"]:focus::-webkit-slider-thumb {
    outline: 0.125rem solid var(--figma-color-border-selected);
  }

  input[type="range"]::-moz-range-thumb {
    border-radius: 1rem;
    border: 2px solid var(--figma-color-border-onbrand-strong);
    background-color: var(--figma-color-bg-brand);
    height: 0.75rem;
    width: 0.75rem;
  }
  input[type="range"]:focus::-moz-range-thumb {
    outline: 0.125rem solid var(--figma-color-border-selected);
  }

  input[type="color"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    height: 2rem;
    background-color: transparent;
    border: none;
    cursor: pointer;
    padding: 0;
  }

  input[type="color"]::-webkit-color-swatch {
    border-radius: 0.125rem;
    border: 1px solid var(--figma-color-border);
  }

  form {
    margin: 0;
  }

  label {
    color: var(--figma-color-text);
  }

  /* Update colors from the Lowry css */
  .button--primary {
    background-color: var(--figma-color-bg-brand);
    cursor: pointer;
  }

  .button--primary:enabled:active,
  .button--primary:enabled:focus {
    border: 2px solid var(--figma-color-border-selected-strong);
    background-color: var(--figma-color-bg-brand-pressed);
  }

  .button--tertiary {
    color: var(--figma-color-text-brand-tertiary);
  }

  .input__field {
    color: var(--figma-color-text);
    background-color: var(--figma-color-bg);
  }

  .input__field:hover,
  .input__field:placeholder-shown:hover {
    color: var(--figma-color-text);
    border: 1px solid var(--figma-color-border);
  }

  .input__field::-moz-selection {
    color: var(--figma-color-text);
    background-color: var(--figma-color-bg-onselected);
  }

  .input__field::selection {
    color: var(--figma-color-text);
    background-color: var(--figma-color-bg-onselected);
  }

  .input__field:active,
  .input__field:focus {
    color: var(--figma-color-text);
    border: 1px solid var(--figma-color-border-selected);
    outline: 1px solid var(--figma-color-border-selected);
  }

  .icon-button {
    background-color: transparent;
    color: var(--figma-color-icon-secondary);
  }

  .icon-button:hover {
    background-color: var(--figma-color-bg-hover);
    color: var(--figma-color-icon-secondary-hover);
  }

  .icon-button:active,
  .icon-button:focus {
    border: 2px solid var(--figma-color-border-selected);
    outline: none;
  }

  .info-button {
    width: 1rem;
    height: 1rem;
    padding: 0;
    color: var(--figma-color-icon-tertiary);
  }

  .close-button {
    position: absolute;
    top: 0.25rem;
    right: 0.25rem;
    padding: 0.125rem;
  }

  .modal {
    z-index: 10;
    margin: 0;
    padding: 0;
    border: 0;
    min-width: 240px;
    margin-top: auto;
    border-top: 1px solid var(--figma-color-border);
    box-shadow: 0px -2px 14px 0px rgba(0, 0, 0, 0.15);
    border-radius: 0.5rem 0.5rem 0 0;
    bottom: 0;
    overflow: clip;
    background-color: var(--figma-color-bg);
  }

  .modalcontent {
    padding: 1rem;
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    color: var(--figma-color-text);
  }

  .modal::backdrop {
    background-color: rgba(0, 0, 0, 0.8);
  }
</style>

<!-- <div style="width: 100%; height: 6rem" class="dot-grid">
  <svg width="240" height="96" viewBox="0 0 240 96">
    <path d="M0 32H80H160H240" stroke="white" />
    <path d="M0 40H80H160H240" stroke="white" />
    <path d="M0 48H80H160H240" stroke="white" />
    <path d="M0 56H80H160H240" stroke="white" />
    <path d="M0 64H80H160H240" stroke="white" />
  </svg>
</div> -->

<form>
  <div class="container type">
    <div class="section section-top">
      <div class="row-input">
        <label for="lineNumber">No. of lines</label>
        <input
          type="number"
          class="input__field input-width"
          id="lineNumber"
          value="24"
          required
          min="2"
          max="80"
        />
      </div>
    </div>

    <div class="section">
      <div class="row-input">
        <label for="strokeTop">Stroke width top</label>
        <input
          type="number"
          class="input__field input-width"
          id="strokeTop"
          value="4"
          required
          min="0"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <label for="strokeBottom">Stroke width bottom</label>
        <input
          type="number"
          class="input__field input-width"
          id="strokeBottom"
          value="2"
          required
          min="0"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <label for="strokeColor">Stroke color</label>
        <input
          type="color"
          class="input__field input-width"
          id="strokeColor"
          value="#ffffff"
          style="padding: 0"
        />
      </div>

      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="contrast">Stroke color contrast</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openContrastModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="contrastModal">
          <div class="modalcontent">
            <div class="type type--bold">Stroke color contrast</div>
            <div class="type">
              This value controls how the color transitions from opaque to
              translucency. The value can be between 0 and 1.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="96"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <path
                  d="M0 56H80L120 40H208"
                  stroke="url(#paint0_linear_310_626)"
                  stroke-width="4"
                />
                <path
                  d="M10.856 20L8.6 11.24H9.704L11.204 17.204C11.308 17.62 11.392 18.004 11.456 18.356C11.528 18.708 11.58 18.976 11.612 19.16C11.644 18.976 11.696 18.708 11.768 18.356C11.848 17.996 11.94 17.608 12.044 17.192L13.484 11.24H14.6L12.332 20H10.856ZM18.2193 20.12C17.5393 20.12 16.9993 19.932 16.5993 19.556C16.1993 19.172 15.9993 18.672 15.9993 18.056C15.9993 17.648 16.0913 17.292 16.2753 16.988C16.4593 16.684 16.7153 16.448 17.0433 16.28C17.3713 16.104 17.7473 16.016 18.1713 16.016H20.2113V15.5C20.2113 14.644 19.7433 14.216 18.8073 14.216C18.3913 14.216 18.0553 14.292 17.7993 14.444C17.5433 14.596 17.4073 14.808 17.3913 15.08H16.3113C16.3513 14.56 16.5913 14.132 17.0313 13.796C17.4793 13.452 18.0713 13.28 18.8073 13.28C19.6073 13.28 20.2193 13.472 20.6433 13.856C21.0753 14.24 21.2913 14.776 21.2913 15.464V20H20.2233V18.8H20.1993C20.1353 19.208 19.9313 19.532 19.5873 19.772C19.2433 20.004 18.7873 20.12 18.2193 20.12ZM18.4833 19.208C19.0113 19.208 19.4313 19.08 19.7433 18.824C20.0553 18.568 20.2113 18.22 20.2113 17.78V16.856H18.2913C17.9393 16.856 17.6513 16.964 17.4273 17.18C17.2113 17.388 17.1033 17.668 17.1033 18.02C17.1033 18.388 17.2233 18.68 17.4633 18.896C17.7113 19.104 18.0513 19.208 18.4833 19.208ZM26.9506 20C26.3666 20 25.8986 19.832 25.5466 19.496C25.2026 19.152 25.0306 18.7 25.0306 18.14V12.224H22.7506V11.24H26.1106V18.14C26.1106 18.412 26.1866 18.628 26.3386 18.788C26.4906 18.94 26.6946 19.016 26.9506 19.016H28.9906V20H26.9506ZM33.1739 20.12C32.4139 20.12 31.8059 19.896 31.3499 19.448C30.8939 18.992 30.6659 18.376 30.6659 17.6V13.4H31.7459V17.6C31.7459 18.08 31.8739 18.464 32.1299 18.752C32.3859 19.032 32.7339 19.172 33.1739 19.172C33.6219 19.172 33.9739 19.032 34.2299 18.752C34.4939 18.464 34.6259 18.08 34.6259 17.6V13.4H35.7059V17.6C35.7059 18.376 35.4739 18.992 35.0099 19.448C34.5459 19.896 33.9339 20.12 33.1739 20.12ZM40.3813 20.12C39.6053 20.12 38.9773 19.888 38.4973 19.424C38.0253 18.952 37.7893 18.304 37.7893 17.48V15.92C37.7893 15.096 38.0253 14.452 38.4973 13.988C38.9773 13.516 39.6053 13.28 40.3813 13.28C40.9013 13.28 41.3533 13.384 41.7373 13.592C42.1293 13.8 42.4333 14.092 42.6493 14.468C42.8653 14.844 42.9733 15.288 42.9733 15.8V16.976H38.8453V17.6C38.8453 18.088 38.9853 18.476 39.2653 18.764C39.5453 19.044 39.9173 19.184 40.3813 19.184C40.7813 19.184 41.1093 19.108 41.3653 18.956C41.6293 18.796 41.7893 18.584 41.8453 18.32H42.9253C42.8533 18.872 42.5853 19.312 42.1213 19.64C41.6573 19.96 41.0773 20.12 40.3813 20.12ZM38.8453 16.136H41.9173V15.8C41.9173 15.28 41.7813 14.88 41.5093 14.6C41.2453 14.312 40.8693 14.168 40.3813 14.168C39.8933 14.168 39.5133 14.312 39.2413 14.6C38.9773 14.88 38.8453 15.28 38.8453 15.8V16.136ZM47.5766 15.056C47.2486 15.056 47.0006 14.976 46.8326 14.816C46.6646 14.656 46.5806 14.44 46.5806 14.168C46.5806 13.896 46.6646 13.68 46.8326 13.52C47.0006 13.36 47.2486 13.28 47.5766 13.28C47.9046 13.28 48.1526 13.36 48.3206 13.52C48.4886 13.68 48.5726 13.896 48.5726 14.168C48.5726 14.44 48.4886 14.656 48.3206 14.816C48.1526 14.976 47.9046 15.056 47.5766 15.056ZM47.5766 20.12C47.2486 20.12 47.0006 20.04 46.8326 19.88C46.6646 19.72 46.5806 19.504 46.5806 19.232C46.5806 18.96 46.6646 18.744 46.8326 18.584C47.0006 18.424 47.2486 18.344 47.5766 18.344C47.9046 18.344 48.1526 18.424 48.3206 18.584C48.4886 18.744 48.5726 18.96 48.5726 19.232C48.5726 19.504 48.4886 19.72 48.3206 19.88C48.1526 20.04 47.9046 20.12 47.5766 20.12ZM61.9672 20.12C61.1592 20.12 60.5152 19.888 60.0352 19.424C59.5632 18.952 59.3272 18.324 59.3272 17.54V13.7C59.3272 12.916 59.5632 12.292 60.0352 11.828C60.5152 11.356 61.1592 11.12 61.9672 11.12C62.7752 11.12 63.4152 11.356 63.8872 11.828C64.3672 12.292 64.6072 12.916 64.6072 13.7V17.54C64.6072 18.06 64.4992 18.516 64.2832 18.908C64.0672 19.292 63.7592 19.592 63.3592 19.808C62.9672 20.016 62.5032 20.12 61.9672 20.12ZM61.9672 19.196C62.4472 19.196 62.8312 19.044 63.1192 18.74C63.4152 18.428 63.5632 18.028 63.5632 17.54V13.7C63.5632 13.212 63.4152 12.816 63.1192 12.512C62.8312 12.2 62.4472 12.044 61.9672 12.044C61.4872 12.044 61.0992 12.2 60.8032 12.512C60.5152 12.816 60.3712 13.212 60.3712 13.7V17.54C60.3712 18.028 60.5152 18.428 60.8032 18.74C61.0992 19.044 61.4872 19.196 61.9672 19.196ZM61.9672 16.28C61.7512 16.28 61.5752 16.22 61.4392 16.1C61.3112 15.98 61.2472 15.808 61.2472 15.584C61.2472 15.368 61.3112 15.204 61.4392 15.092C61.5752 14.972 61.7512 14.912 61.9672 14.912C62.1832 14.912 62.3552 14.972 62.4832 15.092C62.6192 15.204 62.6872 15.368 62.6872 15.584C62.6872 15.808 62.6192 15.98 62.4832 16.1C62.3552 16.22 62.1832 16.28 61.9672 16.28Z"
                  fill="var(--figma-color-text-secondary)"
                />
                <defs>
                  <linearGradient
                    id="paint0_linear_310_626"
                    x1="-2.33442e-07"
                    y1="51.5"
                    x2="208"
                    y2="51.5"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop
                      stop-color="var(--figma-color-bg-brand)"
                      stop-opacity="0"
                    />
                    <stop
                      offset="0.5"
                      stop-color="var(--figma-color-bg-brand)"
                      stop-opacity="0.5"
                    />
                    <stop
                      offset="0.6"
                      stop-color="var(--figma-color-bg-brand)"
                    />
                    <stop offset="1" stop-color="var(--figma-color-bg-brand)" />
                  </linearGradient>
                </defs>
              </svg>
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="96"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <path
                  d="M10.856 20L8.6 11.24H9.704L11.204 17.204C11.308 17.62 11.392 18.004 11.456 18.356C11.528 18.708 11.58 18.976 11.612 19.16C11.644 18.976 11.696 18.708 11.768 18.356C11.848 17.996 11.94 17.608 12.044 17.192L13.484 11.24H14.6L12.332 20H10.856ZM18.2193 20.12C17.5393 20.12 16.9993 19.932 16.5993 19.556C16.1993 19.172 15.9993 18.672 15.9993 18.056C15.9993 17.648 16.0913 17.292 16.2753 16.988C16.4593 16.684 16.7153 16.448 17.0433 16.28C17.3713 16.104 17.7473 16.016 18.1713 16.016H20.2113V15.5C20.2113 14.644 19.7433 14.216 18.8073 14.216C18.3913 14.216 18.0553 14.292 17.7993 14.444C17.5433 14.596 17.4073 14.808 17.3913 15.08H16.3113C16.3513 14.56 16.5913 14.132 17.0313 13.796C17.4793 13.452 18.0713 13.28 18.8073 13.28C19.6073 13.28 20.2193 13.472 20.6433 13.856C21.0753 14.24 21.2913 14.776 21.2913 15.464V20H20.2233V18.8H20.1993C20.1353 19.208 19.9313 19.532 19.5873 19.772C19.2433 20.004 18.7873 20.12 18.2193 20.12ZM18.4833 19.208C19.0113 19.208 19.4313 19.08 19.7433 18.824C20.0553 18.568 20.2113 18.22 20.2113 17.78V16.856H18.2913C17.9393 16.856 17.6513 16.964 17.4273 17.18C17.2113 17.388 17.1033 17.668 17.1033 18.02C17.1033 18.388 17.2233 18.68 17.4633 18.896C17.7113 19.104 18.0513 19.208 18.4833 19.208ZM26.9506 20C26.3666 20 25.8986 19.832 25.5466 19.496C25.2026 19.152 25.0306 18.7 25.0306 18.14V12.224H22.7506V11.24H26.1106V18.14C26.1106 18.412 26.1866 18.628 26.3386 18.788C26.4906 18.94 26.6946 19.016 26.9506 19.016H28.9906V20H26.9506ZM33.1739 20.12C32.4139 20.12 31.8059 19.896 31.3499 19.448C30.8939 18.992 30.6659 18.376 30.6659 17.6V13.4H31.7459V17.6C31.7459 18.08 31.8739 18.464 32.1299 18.752C32.3859 19.032 32.7339 19.172 33.1739 19.172C33.6219 19.172 33.9739 19.032 34.2299 18.752C34.4939 18.464 34.6259 18.08 34.6259 17.6V13.4H35.7059V17.6C35.7059 18.376 35.4739 18.992 35.0099 19.448C34.5459 19.896 33.9339 20.12 33.1739 20.12ZM40.3813 20.12C39.6053 20.12 38.9773 19.888 38.4973 19.424C38.0253 18.952 37.7893 18.304 37.7893 17.48V15.92C37.7893 15.096 38.0253 14.452 38.4973 13.988C38.9773 13.516 39.6053 13.28 40.3813 13.28C40.9013 13.28 41.3533 13.384 41.7373 13.592C42.1293 13.8 42.4333 14.092 42.6493 14.468C42.8653 14.844 42.9733 15.288 42.9733 15.8V16.976H38.8453V17.6C38.8453 18.088 38.9853 18.476 39.2653 18.764C39.5453 19.044 39.9173 19.184 40.3813 19.184C40.7813 19.184 41.1093 19.108 41.3653 18.956C41.6293 18.796 41.7893 18.584 41.8453 18.32H42.9253C42.8533 18.872 42.5853 19.312 42.1213 19.64C41.6573 19.96 41.0773 20.12 40.3813 20.12ZM38.8453 16.136H41.9173V15.8C41.9173 15.28 41.7813 14.88 41.5093 14.6C41.2453 14.312 40.8693 14.168 40.3813 14.168C39.8933 14.168 39.5133 14.312 39.2413 14.6C38.9773 14.88 38.8453 15.28 38.8453 15.8V16.136ZM47.5766 15.056C47.2486 15.056 47.0006 14.976 46.8326 14.816C46.6646 14.656 46.5806 14.44 46.5806 14.168C46.5806 13.896 46.6646 13.68 46.8326 13.52C47.0006 13.36 47.2486 13.28 47.5766 13.28C47.9046 13.28 48.1526 13.36 48.3206 13.52C48.4886 13.68 48.5726 13.896 48.5726 14.168C48.5726 14.44 48.4886 14.656 48.3206 14.816C48.1526 14.976 47.9046 15.056 47.5766 15.056ZM47.5766 20.12C47.2486 20.12 47.0006 20.04 46.8326 19.88C46.6646 19.72 46.5806 19.504 46.5806 19.232C46.5806 18.96 46.6646 18.744 46.8326 18.584C47.0006 18.424 47.2486 18.344 47.5766 18.344C47.9046 18.344 48.1526 18.424 48.3206 18.584C48.4886 18.744 48.5726 18.96 48.5726 19.232C48.5726 19.504 48.4886 19.72 48.3206 19.88C48.1526 20.04 47.9046 20.12 47.5766 20.12ZM59.4472 20V19.016H61.8232V12.176L59.4472 13.952V12.716L61.4272 11.24H62.9032V19.016H64.8472V20H59.4472Z"
                  fill="var(--figma-color-text-secondary)"
                />
                <path
                  d="M0 56H80L120 40H208"
                  stroke="url(#paint0_linear_316_26)"
                  stroke-width="4"
                />
                <defs>
                  <linearGradient
                    id="paint0_linear_316_26"
                    x1="-2.33442e-07"
                    y1="51.5"
                    x2="208"
                    y2="51.5"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop
                      stop-color="var(--figma-color-bg-brand)"
                      stop-opacity="0"
                    />
                    <stop
                      offset="0.576"
                      stop-color="var(--figma-color-bg-brand)"
                      stop-opacity="0.5"
                    />
                    <stop
                      offset="0.579"
                      stop-color="var(--figma-color-bg-brand)"
                    />
                    <stop offset="1" stop-color="var(--figma-color-bg-brand)" />
                  </linearGradient>
                </defs>
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closeContrastModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>
        <input
          type="range"
          class="input-width"
          id="contrast"
          value="0"
          min="0"
          max="1"
          required
          step="0.1"
        />
      </div>
    </div>

    <div class="section">
      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="peakCorner">Peak corner radius</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openpeakCornerModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="peakCornerModal">
          <div class="modalcontent">
            <div class="type type--bold">Peak corner radius</div>
            <div class="type">
              This value controls the corner radius of the peaks or the embossed
              sections of the lines.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="96"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <path
                  d="M0 72H57.518C71.7634 72 85.2729 65.6725 94.3926 54.7289L105.607 41.2711C114.727 30.3275 128.237 24 142.482 24H208"
                  stroke="black"
                  stroke-width="4"
                  opacity="0.15"
                />
                <path
                  d="M100 48L105.607 41.2711C114.727 30.3275 128.237 24 142.482 24H164"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-width="4"
                />
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closepeakCornerModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>
        <input
          type="number"
          class="input__field input-width"
          id="peakCorner"
          value="0"
          required
          min="0"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="baseCorner">Base corner radius</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openbaseCornerModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="baseCornerModal">
          <div class="modalcontent">
            <div class="type type--bold">Base corner radius</div>
            <div class="type">
              This value controls the corner radius of the base corners of the
              lines.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="96"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <path
                  opacity="0.15"
                  d="M0 72H57.518C71.7634 72 85.2729 65.6725 94.3926 54.7289L105.607 41.2711C114.727 30.3275 128.237 24 142.482 24H208"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  d="M100 48L94.3926 54.7289C85.2729 65.6725 71.7634 72 57.518 72H40"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-width="4"
                />
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closebaseCornerModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>
        <input
          type="number"
          class="input__field input-width"
          id="baseCorner"
          value="32"
          required
          min="0"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="baseFade">Outset distance</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openbaseFadeModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="baseFadeModal">
          <div class="modalcontent">
            <div class="type type--bold">Outset distance</div>
            <div class="type">
              This value controls the horizontal distance between the peak and
              base corners. Higher values mean lesser slope (more taper) in the
              elevation.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_326_52)">
                  <rect
                    width="208"
                    height="96"
                    rx="2"
                    fill="var(--figma-color-bg-secondary)"
                  />
                  <path
                    opacity="0.15"
                    d="M0 72H80L120 24H208"
                    stroke="black"
                    stroke-width="4"
                  />
                  <path
                    d="M80 72L90 77.7735V66.2265L80 72ZM120 71H89V73H120V71Z"
                    fill="var(--figma-color-bg-brand)"
                  />
                  <path
                    d="M100.132 88L102.952 84.568L101.32 81.4H102.568L103.504 83.44C103.544 83.528 103.584 83.624 103.624 83.728C103.672 83.832 103.704 83.916 103.72 83.98C103.76 83.916 103.812 83.832 103.876 83.728C103.94 83.624 104.004 83.528 104.068 83.44L105.64 81.4H106.924L104.284 84.652L106.012 88H104.764L103.744 85.84C103.704 85.752 103.66 85.652 103.612 85.54C103.572 85.42 103.54 85.324 103.516 85.252C103.468 85.324 103.408 85.42 103.336 85.54C103.264 85.652 103.192 85.752 103.12 85.84L101.416 88H100.132Z"
                    fill="var(--figma-color-text-secondary)"
                  />
                  <line
                    x1="120.5"
                    y1="0"
                    x2="120.5"
                    y2="96"
                    stroke="var(--figma-color-bg-brand)"
                    stroke-dasharray="2 2"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_326_52">
                    <rect
                      width="208"
                      height="96"
                      rx="2"
                      fill="var(--figma-color-text-secondary)"
                    />
                  </clipPath>
                </defs>
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closebaseFadeModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>
        <input
          type="number"
          class="input__field input-width"
          id="baseFade"
          value="16"
          required
          min="0"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>
    </div>

    <div class="section">
      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="patternWidth">Line length factor</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openlineWidthModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="lineWidthModal">
          <div class="modalcontent">
            <div class="type type--bold">Line length factor</div>
            <div class="type">
              This value controls the length of the lines. Line lengths are
              equal to the original shape's width multiplied with the Line
              length factor.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="136"
                viewBox="0 0 208 136"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="136"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <rect
                  opacity="0.15"
                  x="80"
                  y="44"
                  width="48"
                  height="48"
                  fill="black"
                />
                <path
                  d="M66.796 20.096C66.068 20.096 65.528 19.932 65.176 19.604C64.824 19.268 64.692 18.796 64.78 18.188H65.86C65.812 18.492 65.88 18.732 66.064 18.908C66.256 19.076 66.548 19.16 66.94 19.16H67.468C67.868 19.16 68.192 19.072 68.44 18.896C68.688 18.72 68.836 18.472 68.884 18.152C68.98 17.584 68.772 17.264 68.26 17.192L66.484 16.928C66.044 16.864 65.724 16.68 65.524 16.376C65.324 16.064 65.264 15.656 65.344 15.152C65.432 14.552 65.692 14.096 66.124 13.784C66.564 13.464 67.144 13.304 67.864 13.304H68.392C69.04 13.304 69.54 13.46 69.892 13.772C70.244 14.076 70.396 14.492 70.348 15.02H69.256C69.272 14.788 69.188 14.596 69.004 14.444C68.828 14.292 68.576 14.216 68.248 14.216H67.72C67.352 14.216 67.052 14.3 66.82 14.468C66.588 14.636 66.448 14.864 66.4 15.152C66.328 15.624 66.5 15.888 66.916 15.944L68.572 16.184C69.676 16.344 70.132 17 69.94 18.152C69.732 19.448 68.86 20.096 67.324 20.096H66.796ZM71.7713 20L73.1633 11.24H74.2433L73.8953 13.4L73.6913 14.66H73.7153C73.8353 14.22 74.0673 13.88 74.4113 13.64C74.7553 13.4 75.1793 13.28 75.6833 13.28C76.3473 13.28 76.8433 13.484 77.1713 13.892C77.4993 14.3 77.6073 14.856 77.4953 15.56L76.7873 20H75.7073L76.3793 15.74C76.4593 15.244 76.3953 14.864 76.1873 14.6C75.9793 14.328 75.6593 14.192 75.2273 14.192C74.7793 14.192 74.3993 14.332 74.0873 14.612C73.7833 14.892 73.5913 15.288 73.5113 15.8L72.8513 20H71.7713ZM80.8506 20.12C80.4586 20.12 80.1266 20.016 79.8546 19.808C79.5826 19.6 79.3906 19.312 79.2786 18.944C79.1746 18.576 79.1586 18.152 79.2306 17.672L79.5306 15.74C79.6106 15.252 79.7666 14.824 79.9986 14.456C80.2306 14.088 80.5146 13.8 80.8506 13.592C81.1866 13.384 81.5506 13.28 81.9426 13.28C82.3906 13.28 82.7426 13.408 82.9986 13.664C83.2546 13.912 83.3746 14.244 83.3586 14.66H83.3946L83.5746 13.4H84.6546L83.8506 18.476C83.8266 18.636 83.8586 18.768 83.9466 18.872C84.0346 18.968 84.1546 19.016 84.3066 19.016H84.8466L84.6906 20H84.0906C83.6986 20 83.3986 19.872 83.1906 19.616C82.9826 19.36 82.9066 19.044 82.9626 18.668C82.8106 19.108 82.5426 19.46 82.1586 19.724C81.7826 19.988 81.3466 20.12 80.8506 20.12ZM81.3666 19.184C81.7666 19.184 82.1026 19.044 82.3746 18.764C82.6546 18.476 82.8346 18.088 82.9146 17.6L83.1906 15.8C83.2626 15.312 83.2026 14.928 83.0106 14.648C82.8266 14.36 82.5386 14.216 82.1466 14.216C81.7466 14.216 81.4066 14.36 81.1266 14.648C80.8466 14.928 80.6706 15.312 80.5986 15.8L80.3226 17.6C80.2506 18.088 80.3066 18.476 80.4906 18.764C80.6826 19.044 80.9746 19.184 81.3666 19.184ZM85.8139 22.16L87.2059 13.4H88.2859L88.0819 14.66H88.0939C88.2139 14.22 88.4459 13.88 88.7899 13.64C89.1419 13.4 89.5819 13.28 90.1099 13.28C90.7579 13.28 91.2419 13.504 91.5619 13.952C91.8899 14.392 91.9979 14.984 91.8859 15.728L91.5859 17.66C91.4659 18.436 91.1779 19.04 90.7219 19.472C90.2739 19.904 89.7059 20.12 89.0179 20.12C88.5379 20.12 88.1539 19.996 87.8659 19.748C87.5859 19.492 87.4499 19.156 87.4579 18.74H87.4219L87.2059 20.24L86.8939 22.16H85.8139ZM88.8139 19.184C89.2699 19.184 89.6459 19.064 89.9419 18.824C90.2379 18.584 90.4259 18.196 90.5059 17.66L90.8059 15.74C90.8939 15.196 90.8259 14.808 90.6019 14.576C90.3859 14.336 90.0499 14.216 89.5939 14.216C89.1539 14.216 88.7819 14.356 88.4779 14.636C88.1739 14.916 87.9819 15.304 87.9019 15.8L87.6259 17.6C87.5459 18.096 87.6139 18.484 87.8299 18.764C88.0459 19.044 88.3739 19.184 88.8139 19.184ZM95.8293 20.12C95.0533 20.12 94.4653 19.888 94.0653 19.424C93.6653 18.952 93.5293 18.304 93.6573 17.48L93.9093 15.92C94.0453 15.08 94.3733 14.432 94.8933 13.976C95.4213 13.512 96.0973 13.28 96.9213 13.28C97.4253 13.28 97.8573 13.372 98.2173 13.556C98.5773 13.74 98.8413 13.992 99.0093 14.312C99.1853 14.632 99.2413 15 99.1773 15.416C99.0973 15.936 98.8853 16.332 98.5413 16.604C98.2053 16.868 97.7653 17 97.2213 17H94.7973L94.7013 17.6C94.6213 18.088 94.6973 18.476 94.9293 18.764C95.1693 19.044 95.5213 19.184 95.9853 19.184C96.3853 19.184 96.7253 19.108 97.0053 18.956C97.2933 18.796 97.4853 18.584 97.5813 18.32H98.6613C98.5013 18.888 98.1733 19.332 97.6773 19.652C97.1813 19.964 96.5653 20.12 95.8293 20.12ZM94.9293 16.136H97.3413C97.5333 16.136 97.6933 16.08 97.8213 15.968C97.9573 15.856 98.0453 15.672 98.0853 15.416C98.1493 15.04 98.0573 14.74 97.8093 14.516C97.5693 14.284 97.2253 14.168 96.7773 14.168C96.2893 14.168 95.8853 14.312 95.5653 14.6C95.2533 14.88 95.0573 15.28 94.9773 15.8L94.9293 16.136ZM99.9766 21.2L100.121 20.3H105.881L105.737 21.2H99.9766ZM108.096 20L108.06 13.4H108.972L108.912 18.056C108.904 18.232 108.896 18.428 108.888 18.644C108.88 18.852 108.868 19.024 108.852 19.16C108.892 19.024 108.94 18.852 108.996 18.644C109.052 18.428 109.108 18.232 109.164 18.056L110.724 13.4H111.804L111.9 18.056C111.9 18.232 111.896 18.428 111.888 18.644C111.888 18.852 111.88 19.024 111.864 19.16C111.904 19.024 111.952 18.852 112.008 18.644C112.064 18.428 112.12 18.232 112.176 18.056L113.604 13.4H114.516L112.344 20H111.156L111.12 15.44C111.12 15.216 111.124 14.98 111.132 14.732C111.148 14.476 111.16 14.28 111.168 14.144C111.136 14.28 111.084 14.476 111.012 14.732C110.94 14.98 110.868 15.216 110.796 15.44L109.284 20H108.096ZM114.799 20L114.955 19.016H117.295L118.027 14.384H115.987L116.143 13.4H119.263L118.375 19.016H120.595L120.439 20H114.799ZM118.855 12.212C118.591 12.212 118.395 12.144 118.267 12.008C118.139 11.872 118.091 11.688 118.123 11.456C118.163 11.216 118.267 11.028 118.435 10.892C118.611 10.748 118.831 10.676 119.095 10.676C119.359 10.676 119.555 10.748 119.683 10.892C119.819 11.028 119.867 11.216 119.827 11.456C119.795 11.688 119.691 11.872 119.515 12.008C119.339 12.144 119.119 12.212 118.855 12.212ZM124.227 20.12C123.595 20.12 123.111 19.896 122.775 19.448C122.447 19 122.339 18.408 122.451 17.672L122.751 15.74C122.871 14.956 123.155 14.352 123.603 13.928C124.051 13.496 124.623 13.28 125.319 13.28C125.815 13.28 126.203 13.404 126.483 13.652C126.771 13.9 126.911 14.236 126.903 14.66H126.915L127.131 13.16L127.443 11.24H128.523L127.131 20H126.051L126.255 18.74H126.243C126.123 19.18 125.887 19.52 125.535 19.76C125.191 20 124.755 20.12 124.227 20.12ZM124.743 19.184C125.191 19.184 125.563 19.044 125.859 18.764C126.163 18.484 126.355 18.096 126.435 17.6L126.711 15.8C126.791 15.304 126.723 14.916 126.507 14.636C126.299 14.356 125.971 14.216 125.523 14.216C125.067 14.216 124.691 14.336 124.395 14.576C124.107 14.808 123.919 15.196 123.831 15.74L123.531 17.66C123.451 18.196 123.519 18.584 123.735 18.824C123.951 19.064 124.287 19.184 124.743 19.184ZM132.49 20C131.946 20 131.534 19.844 131.254 19.532C130.982 19.212 130.886 18.788 130.966 18.26L131.578 14.384H129.682L129.838 13.4H131.734L132.034 11.54H133.114L132.814 13.4H135.514L135.358 14.384H132.658L132.046 18.26C132.014 18.484 132.05 18.668 132.154 18.812C132.266 18.948 132.43 19.016 132.646 19.016H134.566L134.41 20H132.49ZM136.529 20L137.921 11.24H139.001L138.653 13.4L138.449 14.66H138.473C138.593 14.22 138.825 13.88 139.169 13.64C139.513 13.4 139.937 13.28 140.441 13.28C141.105 13.28 141.601 13.484 141.929 13.892C142.257 14.3 142.365 14.856 142.253 15.56L141.545 20H140.465L141.137 15.74C141.217 15.244 141.153 14.864 140.945 14.6C140.737 14.328 140.417 14.192 139.985 14.192C139.537 14.192 139.157 14.332 138.845 14.612C138.541 14.892 138.349 15.288 138.269 15.8L137.609 20H136.529Z"
                  fill="var(--figma-color-text-secondary)"
                />
                <path
                  d="M50.132 124L52.952 120.568L51.32 117.4H52.568L53.504 119.44C53.544 119.528 53.584 119.624 53.624 119.728C53.672 119.832 53.704 119.916 53.72 119.98C53.76 119.916 53.812 119.832 53.876 119.728C53.94 119.624 54.004 119.528 54.068 119.44L55.64 117.4H56.924L54.284 120.652L56.012 124H54.764L53.744 121.84C53.704 121.752 53.66 121.652 53.612 121.54C53.572 121.42 53.54 121.324 53.516 121.252C53.468 121.324 53.408 121.42 53.336 121.54C53.264 121.652 53.192 121.752 53.12 121.84L51.416 124H50.132ZM66.6826 122.764L65.8546 122.176L66.6346 121.06C66.7386 120.916 66.8786 120.74 67.0546 120.532C67.2386 120.324 67.4106 120.14 67.5706 119.98C67.3466 119.948 67.1106 119.9 66.8626 119.836C66.6146 119.772 66.4186 119.712 66.2746 119.656L64.9906 119.176L65.3266 118.228L66.6226 118.708C66.7586 118.756 66.9386 118.832 67.1626 118.936C67.3866 119.04 67.5906 119.148 67.7746 119.26C67.7346 119.052 67.7026 118.84 67.6786 118.624C67.6626 118.4 67.6546 118.212 67.6546 118.06V116.56H68.6626V118.06C68.6626 118.212 68.6506 118.4 68.6266 118.624C68.6026 118.84 68.5706 119.052 68.5306 119.26C68.7226 119.148 68.9266 119.04 69.1426 118.936C69.3666 118.832 69.5506 118.756 69.6946 118.708L70.9906 118.228L71.3266 119.176L70.0426 119.656C69.8986 119.712 69.7026 119.772 69.4546 119.836C69.2066 119.9 68.9706 119.948 68.7466 119.98C68.9066 120.14 69.0786 120.328 69.2626 120.544C69.4466 120.752 69.5866 120.924 69.6826 121.06L70.4626 122.176L69.6346 122.764L68.8546 121.636C68.7586 121.5 68.6426 121.312 68.5066 121.072C68.3706 120.832 68.2546 120.608 68.1586 120.4C68.0626 120.608 67.9466 120.832 67.8106 121.072C67.6746 121.304 67.5586 121.492 67.4626 121.636L66.6826 122.764ZM81.5773 124.096C80.8493 124.096 80.3093 123.932 79.9573 123.604C79.6053 123.268 79.4733 122.796 79.5613 122.188H80.6413C80.5933 122.492 80.6613 122.732 80.8453 122.908C81.0373 123.076 81.3293 123.16 81.7213 123.16H82.2493C82.6493 123.16 82.9733 123.072 83.2213 122.896C83.4693 122.72 83.6173 122.472 83.6653 122.152C83.7613 121.584 83.5533 121.264 83.0413 121.192L81.2653 120.928C80.8253 120.864 80.5053 120.68 80.3053 120.376C80.1053 120.064 80.0453 119.656 80.1253 119.152C80.2133 118.552 80.4733 118.096 80.9053 117.784C81.3453 117.464 81.9253 117.304 82.6453 117.304H83.1733C83.8213 117.304 84.3213 117.46 84.6733 117.772C85.0253 118.076 85.1773 118.492 85.1293 119.02H84.0373C84.0533 118.788 83.9693 118.596 83.7853 118.444C83.6093 118.292 83.3573 118.216 83.0293 118.216H82.5013C82.1332 118.216 81.8333 118.3 81.6013 118.468C81.3693 118.636 81.2293 118.864 81.1813 119.152C81.1093 119.624 81.2813 119.888 81.6973 119.944L83.3533 120.184C84.4573 120.344 84.9133 121 84.7213 122.152C84.5133 123.448 83.6413 124.096 82.1053 124.096H81.5773ZM86.5526 124L87.9446 115.24H89.0246L88.6766 117.4L88.4726 118.66H88.4966C88.6166 118.22 88.8486 117.88 89.1926 117.64C89.5366 117.4 89.9606 117.28 90.4646 117.28C91.1286 117.28 91.6246 117.484 91.9526 117.892C92.2806 118.3 92.3886 118.856 92.2766 119.56L91.5686 124H90.4886L91.1606 119.74C91.2406 119.244 91.1766 118.864 90.9686 118.6C90.7606 118.328 90.4406 118.192 90.0086 118.192C89.5606 118.192 89.1806 118.332 88.8686 118.612C88.5646 118.892 88.3726 119.288 88.2926 119.8L87.6326 124H86.5526ZM95.6319 124.12C95.2399 124.12 94.9079 124.016 94.6359 123.808C94.3639 123.6 94.1719 123.312 94.0599 122.944C93.9559 122.576 93.9399 122.152 94.0119 121.672L94.3119 119.74C94.3919 119.252 94.5479 118.824 94.7799 118.456C95.0119 118.088 95.2959 117.8 95.6319 117.592C95.9679 117.384 96.3319 117.28 96.7239 117.28C97.1719 117.28 97.5239 117.408 97.7799 117.664C98.0359 117.912 98.1559 118.244 98.1399 118.66H98.1759L98.3559 117.4H99.4359L98.6319 122.476C98.6079 122.636 98.6399 122.768 98.7279 122.872C98.8159 122.968 98.9359 123.016 99.0879 123.016H99.6279L99.4719 124H98.8719C98.4799 124 98.1799 123.872 97.9719 123.616C97.7639 123.36 97.6879 123.044 97.7439 122.668C97.5919 123.108 97.3239 123.46 96.9399 123.724C96.5639 123.988 96.1279 124.12 95.6319 124.12ZM96.1479 123.184C96.5479 123.184 96.8839 123.044 97.1559 122.764C97.4359 122.476 97.6159 122.088 97.6959 121.6L97.9719 119.8C98.0439 119.312 97.9839 118.928 97.7919 118.648C97.6079 118.36 97.3199 118.216 96.9279 118.216C96.5279 118.216 96.1879 118.36 95.9079 118.648C95.6279 118.928 95.4519 119.312 95.3799 119.8L95.1039 121.6C95.0319 122.088 95.0879 122.476 95.2719 122.764C95.4639 123.044 95.7559 123.184 96.1479 123.184ZM100.595 126.16L101.987 117.4H103.067L102.863 118.66H102.875C102.995 118.22 103.227 117.88 103.571 117.64C103.923 117.4 104.363 117.28 104.891 117.28C105.539 117.28 106.023 117.504 106.343 117.952C106.671 118.392 106.779 118.984 106.667 119.728L106.367 121.66C106.247 122.436 105.959 123.04 105.503 123.472C105.055 123.904 104.487 124.12 103.799 124.12C103.319 124.12 102.935 123.996 102.647 123.748C102.367 123.492 102.231 123.156 102.239 122.74H102.203L101.987 124.24L101.675 126.16H100.595ZM103.595 123.184C104.051 123.184 104.427 123.064 104.723 122.824C105.019 122.584 105.207 122.196 105.287 121.66L105.587 119.74C105.675 119.196 105.607 118.808 105.383 118.576C105.167 118.336 104.831 118.216 104.375 118.216C103.935 118.216 103.563 118.356 103.259 118.636C102.955 118.916 102.763 119.304 102.683 119.8L102.407 121.6C102.327 122.096 102.395 122.484 102.611 122.764C102.827 123.044 103.155 123.184 103.595 123.184ZM110.611 124.12C109.835 124.12 109.247 123.888 108.847 123.424C108.447 122.952 108.311 122.304 108.439 121.48L108.691 119.92C108.827 119.08 109.155 118.432 109.675 117.976C110.203 117.512 110.879 117.28 111.703 117.28C112.207 117.28 112.639 117.372 112.999 117.556C113.359 117.74 113.623 117.992 113.791 118.312C113.967 118.632 114.023 119 113.959 119.416C113.879 119.936 113.667 120.332 113.323 120.604C112.987 120.868 112.547 121 112.003 121H109.579L109.483 121.6C109.403 122.088 109.479 122.476 109.711 122.764C109.951 123.044 110.303 123.184 110.767 123.184C111.167 123.184 111.507 123.108 111.787 122.956C112.075 122.796 112.267 122.584 112.363 122.32H113.443C113.283 122.888 112.955 123.332 112.459 123.652C111.963 123.964 111.347 124.12 110.611 124.12ZM109.711 120.136H112.123C112.315 120.136 112.475 120.08 112.603 119.968C112.739 119.856 112.827 119.672 112.867 119.416C112.931 119.04 112.839 118.74 112.591 118.516C112.351 118.284 112.007 118.168 111.559 118.168C111.071 118.168 110.667 118.312 110.347 118.6C110.035 118.88 109.839 119.28 109.759 119.8L109.711 120.136ZM114.758 125.2L114.902 124.3H120.662L120.518 125.2H114.758ZM122.877 124L122.841 117.4H123.753L123.693 122.056C123.685 122.232 123.677 122.428 123.669 122.644C123.661 122.852 123.649 123.024 123.633 123.16C123.673 123.024 123.721 122.852 123.777 122.644C123.833 122.428 123.889 122.232 123.945 122.056L125.505 117.4H126.585L126.681 122.056C126.681 122.232 126.677 122.428 126.669 122.644C126.669 122.852 126.661 123.024 126.645 123.16C126.685 123.024 126.733 122.852 126.789 122.644C126.845 122.428 126.901 122.232 126.957 122.056L128.385 117.4H129.297L127.125 124H125.937L125.901 119.44C125.901 119.216 125.905 118.98 125.913 118.732C125.929 118.476 125.941 118.28 125.949 118.144C125.917 118.28 125.865 118.476 125.793 118.732C125.721 118.98 125.649 119.216 125.577 119.44L124.065 124H122.877ZM129.58 124L129.736 123.016H132.076L132.808 118.384H130.768L130.924 117.4H134.044L133.156 123.016H135.376L135.22 124H129.58ZM133.636 116.212C133.372 116.212 133.176 116.144 133.048 116.008C132.92 115.872 132.872 115.688 132.904 115.456C132.944 115.216 133.048 115.028 133.216 114.892C133.392 114.748 133.612 114.676 133.876 114.676C134.14 114.676 134.336 114.748 134.464 114.892C134.6 115.028 134.648 115.216 134.608 115.456C134.576 115.688 134.472 115.872 134.296 116.008C134.12 116.144 133.9 116.212 133.636 116.212ZM139.008 124.12C138.376 124.12 137.892 123.896 137.556 123.448C137.228 123 137.12 122.408 137.232 121.672L137.532 119.74C137.652 118.956 137.936 118.352 138.384 117.928C138.832 117.496 139.404 117.28 140.1 117.28C140.596 117.28 140.984 117.404 141.264 117.652C141.552 117.9 141.692 118.236 141.684 118.66H141.696L141.912 117.16L142.224 115.24H143.304L141.912 124H140.832L141.036 122.74H141.024C140.904 123.18 140.668 123.52 140.316 123.76C139.972 124 139.536 124.12 139.008 124.12ZM139.524 123.184C139.972 123.184 140.344 123.044 140.64 122.764C140.944 122.484 141.136 122.096 141.216 121.6L141.492 119.8C141.572 119.304 141.504 118.916 141.288 118.636C141.08 118.356 140.752 118.216 140.304 118.216C139.848 118.216 139.472 118.336 139.176 118.576C138.888 118.808 138.7 119.196 138.612 119.74L138.312 121.66C138.232 122.196 138.3 122.584 138.516 122.824C138.732 123.064 139.068 123.184 139.524 123.184ZM147.271 124C146.727 124 146.315 123.844 146.035 123.532C145.763 123.212 145.667 122.788 145.747 122.26L146.359 118.384H144.463L144.619 117.4H146.515L146.815 115.54H147.895L147.595 117.4H150.295L150.139 118.384H147.439L146.827 122.26C146.795 122.484 146.831 122.668 146.935 122.812C147.047 122.948 147.211 123.016 147.427 123.016H149.347L149.191 124H147.271ZM151.31 124L152.702 115.24H153.782L153.434 117.4L153.23 118.66H153.254C153.374 118.22 153.606 117.88 153.95 117.64C154.294 117.4 154.718 117.28 155.222 117.28C155.886 117.28 156.382 117.484 156.71 117.892C157.038 118.3 157.146 118.856 157.034 119.56L156.326 124H155.246L155.918 119.74C155.998 119.244 155.934 118.864 155.726 118.6C155.518 118.328 155.198 118.192 154.766 118.192C154.318 118.192 153.938 118.332 153.626 118.612C153.322 118.892 153.13 119.288 153.05 119.8L152.39 124H151.31Z"
                  fill="var(--figma-color-text-secondary)"
                />
                <path
                  d="M176 100L166 94.2265V105.774L176 100ZM32 100L42 105.774V94.2265L32 100ZM167 99H41V101H167V99Z"
                  fill="var(--figma-color-bg-brand)"
                />
                <path
                  opacity="0.15"
                  d="M32 88H52.6687C60.1205 88 67.4699 86.265 74.135 82.9325L80 80H128L133.865 82.9325C140.53 86.265 147.88 88 155.331 88H176M32 72H52.6687C60.1205 72 67.4699 70.265 74.135 66.9325L80 64H128L133.865 66.9325C140.53 70.265 147.88 72 155.331 72H176M32 56H52.6687C60.1205 56 67.4699 54.265 74.135 50.9325L80 48H128L133.865 50.9325C140.53 54.265 147.88 56 155.331 56H176"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  d="M128 36.5L123 33.6132V39.3868L128 36.5ZM80 36.5L85 39.3868V33.6132L80 36.5ZM123.5 36H84.5V37H123.5V36Z"
                  fill="var(--figma-color-bg-brand)"
                />
                <path
                  d="M80.5 28V44M32.5 92L32.5 108M175.5 92V108M127.5 28V44"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-dasharray="2 2"
                />
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closelineWidthModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>

        <input
          type="number"
          class="input__field input-width"
          id="patternWidth"
          value="3"
          required
          min="2"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="peakRatio">Elevation factor</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openpeakHeightModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="peakHeightModal">
          <div class="modalcontent">
            <div class="type type--bold">Elevation factor</div>
            <div class="type">
              This value controls the elevation of the embossed section.
              Elevation is calculated by multiplying line gap with the Elevation
              factor. A value of 1 means the embossed section of a line sits
              perfectly on the line above.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="96"
                viewBox="0 0 208 96"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="96"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <path
                  opacity="0.15"
                  d="M0 72H63.1625C74.0619 72 84.6368 68.2905 93.1479 61.4817L117.809 41.753C119.227 40.6182 120.99 40 122.806 40H208M0 48H63.1625C74.0619 48 84.6368 44.2905 93.1479 37.4817L117.809 17.753C119.227 16.6182 120.99 16 122.806 16H208"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  d="M8 48.5H24M8 71.5H168M80 40.5H168"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-dasharray="2 2"
                />
                <path
                  d="M15.5 49L12.6132 54L18.3868 54L15.5 49ZM15 53.5L15 72L16 72L16 53.5L15 53.5Z"
                  fill="var(--figma-color-bg-brand)"
                />
                <path
                  d="M104 41L98.2265 51L109.774 51L104 41ZM103 50L103 72L105 72L105 50L103 50Z"
                  fill="var(--figma-color-bg-brand)"
                />
                <path
                  d="M28.032 64C27.448 64 27.008 63.832 26.712 63.496C26.424 63.152 26.324 62.7 26.412 62.14L27.348 56.224H25.068L25.224 55.24H28.584L27.492 62.14C27.444 62.412 27.484 62.628 27.612 62.788C27.74 62.94 27.932 63.016 28.188 63.016H30.228L30.072 64H28.032ZM31.6273 64L31.7833 63.016H34.1233L34.8553 58.384H32.8153L32.9713 57.4H36.0913L35.2033 63.016H37.4233L37.2673 64H31.6273ZM35.6833 56.212C35.4193 56.212 35.2233 56.144 35.0953 56.008C34.9673 55.872 34.9193 55.688 34.9513 55.456C34.9913 55.216 35.0953 55.028 35.2633 54.892C35.4393 54.748 35.6593 54.676 35.9233 54.676C36.1873 54.676 36.3833 54.748 36.5113 54.892C36.6473 55.028 36.6953 55.216 36.6553 55.456C36.6233 55.688 36.5193 55.872 36.3433 56.008C36.1673 56.144 35.9473 56.212 35.6833 56.212ZM38.9666 64L40.0106 57.4H41.0906L40.8866 58.66H40.9106C41.0306 58.22 41.2626 57.88 41.6066 57.64C41.9506 57.4 42.3746 57.28 42.8786 57.28C43.5426 57.28 44.0386 57.484 44.3666 57.892C44.6946 58.3 44.8026 58.856 44.6906 59.56L43.9826 64H42.9026L43.5746 59.752C43.6546 59.248 43.5906 58.864 43.3826 58.6C43.1746 58.328 42.8546 58.192 42.4226 58.192C41.9746 58.192 41.5986 58.332 41.2946 58.612C40.9906 58.892 40.7946 59.288 40.7066 59.8L40.0466 64H38.9666ZM48.6339 64.12C47.8579 64.12 47.2699 63.888 46.8699 63.424C46.4699 62.952 46.3339 62.304 46.4619 61.48L46.7139 59.92C46.8499 59.08 47.1779 58.432 47.6979 57.976C48.2259 57.512 48.9019 57.28 49.7259 57.28C50.2299 57.28 50.6619 57.372 51.0219 57.556C51.3819 57.74 51.6459 57.992 51.8139 58.312C51.9899 58.632 52.0459 59 51.9819 59.416C51.9019 59.936 51.6899 60.332 51.3459 60.604C51.0099 60.868 50.5699 61 50.0259 61H47.6019L47.5059 61.6C47.4259 62.088 47.5019 62.476 47.7339 62.764C47.9739 63.044 48.3259 63.184 48.7899 63.184C49.1899 63.184 49.5299 63.108 49.8099 62.956C50.0979 62.796 50.2899 62.584 50.3859 62.32H51.4659C51.3059 62.888 50.9779 63.332 50.4819 63.652C49.9859 63.964 49.3699 64.12 48.6339 64.12ZM47.7339 60.136H50.1459C50.3379 60.136 50.4979 60.08 50.6259 59.968C50.7619 59.856 50.8499 59.672 50.8899 59.416C50.9539 59.04 50.8619 58.74 50.6139 58.516C50.3739 58.284 50.0299 58.168 49.5819 58.168C49.0939 58.168 48.6899 58.312 48.3699 58.6C48.0579 58.88 47.8619 59.28 47.7819 59.8L47.7339 60.136ZM52.7812 65.2L52.9253 64.3H58.6853L58.5413 65.2H52.7812ZM61.0326 66.16L61.1886 65.176H63.0486C63.4246 65.176 63.7366 65.068 63.9846 64.852C64.2406 64.644 64.3966 64.36 64.4526 64L64.5486 63.4L64.7406 62.32H64.7046C64.5766 62.712 64.3406 63.016 63.9966 63.232C63.6526 63.44 63.2446 63.544 62.7726 63.544C62.0926 63.544 61.5886 63.328 61.2606 62.896C60.9406 62.464 60.8406 61.872 60.9606 61.12L61.1766 59.728C61.2886 58.976 61.5766 58.38 62.0406 57.94C62.5126 57.5 63.0886 57.28 63.7686 57.28C64.2406 57.28 64.6126 57.392 64.8846 57.616C65.1566 57.832 65.2966 58.14 65.3046 58.54H65.3286L65.5086 57.4H66.5766L65.5326 64C65.4286 64.664 65.1366 65.188 64.6566 65.572C64.1846 65.964 63.5926 66.16 62.8806 66.16H61.0326ZM63.2406 62.644C63.6886 62.644 64.0606 62.504 64.3566 62.224C64.6606 61.944 64.8526 61.556 64.9326 61.06L65.1246 59.8C65.2046 59.304 65.1366 58.916 64.9206 58.636C64.7126 58.356 64.3846 58.216 63.9366 58.216C63.4806 58.216 63.1046 58.348 62.8086 58.612C62.5206 58.876 62.3406 59.232 62.2686 59.68L62.0286 61.18C61.9566 61.628 62.0246 61.984 62.2326 62.248C62.4486 62.512 62.7846 62.644 63.2406 62.644ZM69.6319 64.12C69.2399 64.12 68.9079 64.016 68.6359 63.808C68.3639 63.6 68.1719 63.312 68.0599 62.944C67.9559 62.576 67.9399 62.152 68.0119 61.672L68.3119 59.74C68.3919 59.252 68.5479 58.824 68.7799 58.456C69.0119 58.088 69.2959 57.8 69.6319 57.592C69.9679 57.384 70.3319 57.28 70.7239 57.28C71.1719 57.28 71.5239 57.408 71.7799 57.664C72.0359 57.912 72.1559 58.244 72.1399 58.66H72.1759L72.3559 57.4H73.4359L72.6319 62.476C72.6079 62.636 72.6399 62.768 72.7279 62.872C72.8159 62.968 72.9359 63.016 73.0879 63.016H73.6279L73.4719 64H72.8719C72.4799 64 72.1799 63.872 71.9719 63.616C71.7639 63.36 71.6879 63.044 71.7439 62.668C71.5919 63.108 71.3239 63.46 70.9399 63.724C70.5639 63.988 70.1279 64.12 69.6319 64.12ZM70.1479 63.184C70.5479 63.184 70.8839 63.044 71.1559 62.764C71.4359 62.476 71.6159 62.088 71.6959 61.6L71.9719 59.8C72.0439 59.312 71.9839 58.928 71.7919 58.648C71.6079 58.36 71.3199 58.216 70.9279 58.216C70.5279 58.216 70.1879 58.36 69.9079 58.648C69.6279 58.928 69.4519 59.312 69.3799 59.8L69.1039 61.6C69.0319 62.088 69.0879 62.476 69.2719 62.764C69.4639 63.044 69.7559 63.184 70.1479 63.184ZM74.5952 66.16L75.9872 57.4H77.0672L76.8632 58.66H76.8752C76.9952 58.22 77.2272 57.88 77.5712 57.64C77.9232 57.4 78.3632 57.28 78.8912 57.28C79.5392 57.28 80.0232 57.504 80.3432 57.952C80.6712 58.392 80.7792 58.984 80.6672 59.728L80.3672 61.66C80.2472 62.436 79.9592 63.04 79.5032 63.472C79.0552 63.904 78.4872 64.12 77.7992 64.12C77.3192 64.12 76.9352 63.996 76.6472 63.748C76.3672 63.492 76.2312 63.156 76.2392 62.74H76.2032L75.9872 64.24L75.6752 66.16H74.5952ZM77.5952 63.184C78.0512 63.184 78.4272 63.064 78.7232 62.824C79.0192 62.584 79.2072 62.196 79.2872 61.66L79.5872 59.74C79.6752 59.196 79.6072 58.808 79.3832 58.576C79.1672 58.336 78.8312 58.216 78.3752 58.216C77.9352 58.216 77.5632 58.356 77.2592 58.636C76.9552 58.916 76.7632 59.304 76.6832 59.8L76.4072 61.6C76.3272 62.096 76.3952 62.484 76.6112 62.764C76.8272 63.044 77.1552 63.184 77.5952 63.184Z"
                  fill="var(--figma-color-text-secondary)"
                />
                <path
                  d="M112.132 64L114.952 60.568L113.32 57.4H114.568L115.504 59.44C115.544 59.528 115.584 59.624 115.624 59.728C115.672 59.832 115.704 59.916 115.72 59.98C115.76 59.916 115.812 59.832 115.876 59.728C115.94 59.624 116.004 59.528 116.068 59.44L117.64 57.4H118.924L116.284 60.652L118.012 64H116.764L115.744 61.84C115.704 61.752 115.66 61.652 115.612 61.54C115.572 61.42 115.54 61.324 115.516 61.252C115.468 61.324 115.408 61.42 115.336 61.54C115.264 61.652 115.192 61.752 115.12 61.84L113.416 64H112.132ZM128.683 62.764L127.855 62.176L128.635 61.06C128.739 60.916 128.879 60.74 129.055 60.532C129.239 60.324 129.411 60.14 129.571 59.98C129.347 59.948 129.111 59.9 128.863 59.836C128.615 59.772 128.419 59.712 128.275 59.656L126.991 59.176L127.327 58.228L128.623 58.708C128.759 58.756 128.939 58.832 129.163 58.936C129.387 59.04 129.591 59.148 129.775 59.26C129.735 59.052 129.703 58.84 129.679 58.624C129.663 58.4 129.655 58.212 129.655 58.06V56.56H130.663V58.06C130.663 58.212 130.651 58.4 130.627 58.624C130.603 58.84 130.571 59.052 130.531 59.26C130.723 59.148 130.927 59.04 131.143 58.936C131.367 58.832 131.551 58.756 131.695 58.708L132.991 58.228L133.327 59.176L132.043 59.656C131.899 59.712 131.703 59.772 131.455 59.836C131.207 59.9 130.971 59.948 130.747 59.98C130.907 60.14 131.079 60.328 131.263 60.544C131.447 60.752 131.587 60.924 131.683 61.06L132.463 62.176L131.635 62.764L130.855 61.636C130.759 61.5 130.643 61.312 130.507 61.072C130.371 60.832 130.255 60.608 130.159 60.4C130.063 60.608 129.947 60.832 129.811 61.072C129.675 61.304 129.559 61.492 129.463 61.636L128.683 62.764ZM144.813 64C144.229 64 143.789 63.832 143.493 63.496C143.205 63.152 143.105 62.7 143.193 62.14L144.129 56.224H141.849L142.005 55.24H145.365L144.273 62.14C144.225 62.412 144.265 62.628 144.393 62.788C144.521 62.94 144.713 63.016 144.969 63.016H147.009L146.853 64H144.813ZM148.409 64L148.565 63.016H150.905L151.637 58.384H149.597L149.753 57.4H152.873L151.985 63.016H154.205L154.049 64H148.409ZM152.465 56.212C152.201 56.212 152.005 56.144 151.877 56.008C151.749 55.872 151.701 55.688 151.733 55.456C151.773 55.216 151.877 55.028 152.045 54.892C152.221 54.748 152.441 54.676 152.705 54.676C152.969 54.676 153.165 54.748 153.293 54.892C153.429 55.028 153.477 55.216 153.437 55.456C153.405 55.688 153.301 55.872 153.125 56.008C152.949 56.144 152.729 56.212 152.465 56.212ZM155.748 64L156.792 57.4H157.872L157.668 58.66H157.692C157.812 58.22 158.044 57.88 158.388 57.64C158.732 57.4 159.156 57.28 159.66 57.28C160.324 57.28 160.82 57.484 161.148 57.892C161.476 58.3 161.584 58.856 161.472 59.56L160.764 64H159.684L160.356 59.752C160.436 59.248 160.372 58.864 160.164 58.6C159.956 58.328 159.636 58.192 159.204 58.192C158.756 58.192 158.38 58.332 158.076 58.612C157.772 58.892 157.576 59.288 157.488 59.8L156.828 64H155.748ZM165.415 64.12C164.639 64.12 164.051 63.888 163.651 63.424C163.251 62.952 163.115 62.304 163.243 61.48L163.495 59.92C163.631 59.08 163.959 58.432 164.479 57.976C165.007 57.512 165.683 57.28 166.507 57.28C167.011 57.28 167.443 57.372 167.803 57.556C168.163 57.74 168.427 57.992 168.595 58.312C168.771 58.632 168.827 59 168.763 59.416C168.683 59.936 168.471 60.332 168.127 60.604C167.791 60.868 167.351 61 166.807 61H164.383L164.287 61.6C164.207 62.088 164.283 62.476 164.515 62.764C164.755 63.044 165.107 63.184 165.571 63.184C165.971 63.184 166.311 63.108 166.591 62.956C166.879 62.796 167.071 62.584 167.167 62.32H168.247C168.087 62.888 167.759 63.332 167.263 63.652C166.767 63.964 166.151 64.12 165.415 64.12ZM164.515 60.136H166.927C167.119 60.136 167.279 60.08 167.407 59.968C167.543 59.856 167.631 59.672 167.671 59.416C167.735 59.04 167.643 58.74 167.395 58.516C167.155 58.284 166.811 58.168 166.363 58.168C165.875 58.168 165.471 58.312 165.151 58.6C164.839 58.88 164.643 59.28 164.563 59.8L164.515 60.136ZM169.562 65.2L169.707 64.3H175.467L175.323 65.2H169.562ZM177.814 66.16L177.97 65.176H179.83C180.206 65.176 180.518 65.068 180.766 64.852C181.022 64.644 181.178 64.36 181.234 64L181.33 63.4L181.522 62.32H181.486C181.358 62.712 181.122 63.016 180.778 63.232C180.434 63.44 180.026 63.544 179.554 63.544C178.874 63.544 178.37 63.328 178.042 62.896C177.722 62.464 177.622 61.872 177.742 61.12L177.958 59.728C178.07 58.976 178.358 58.38 178.822 57.94C179.294 57.5 179.87 57.28 180.55 57.28C181.022 57.28 181.394 57.392 181.666 57.616C181.938 57.832 182.078 58.14 182.086 58.54H182.11L182.29 57.4H183.358L182.314 64C182.21 64.664 181.918 65.188 181.438 65.572C180.966 65.964 180.374 66.16 179.662 66.16H177.814ZM180.022 62.644C180.47 62.644 180.842 62.504 181.138 62.224C181.442 61.944 181.634 61.556 181.714 61.06L181.906 59.8C181.986 59.304 181.918 58.916 181.702 58.636C181.494 58.356 181.166 58.216 180.718 58.216C180.262 58.216 179.886 58.348 179.59 58.612C179.302 58.876 179.122 59.232 179.05 59.68L178.81 61.18C178.738 61.628 178.806 61.984 179.014 62.248C179.23 62.512 179.566 62.644 180.022 62.644ZM186.413 64.12C186.021 64.12 185.689 64.016 185.417 63.808C185.145 63.6 184.953 63.312 184.841 62.944C184.737 62.576 184.721 62.152 184.793 61.672L185.093 59.74C185.173 59.252 185.329 58.824 185.561 58.456C185.793 58.088 186.077 57.8 186.413 57.592C186.749 57.384 187.113 57.28 187.505 57.28C187.953 57.28 188.305 57.408 188.561 57.664C188.817 57.912 188.937 58.244 188.921 58.66H188.957L189.137 57.4H190.217L189.413 62.476C189.389 62.636 189.421 62.768 189.509 62.872C189.597 62.968 189.717 63.016 189.869 63.016H190.409L190.253 64H189.653C189.261 64 188.961 63.872 188.753 63.616C188.545 63.36 188.469 63.044 188.525 62.668C188.373 63.108 188.105 63.46 187.721 63.724C187.345 63.988 186.909 64.12 186.413 64.12ZM186.929 63.184C187.329 63.184 187.665 63.044 187.937 62.764C188.217 62.476 188.397 62.088 188.477 61.6L188.753 59.8C188.825 59.312 188.765 58.928 188.573 58.648C188.389 58.36 188.101 58.216 187.709 58.216C187.309 58.216 186.969 58.36 186.689 58.648C186.409 58.928 186.233 59.312 186.161 59.8L185.885 61.6C185.813 62.088 185.869 62.476 186.053 62.764C186.245 63.044 186.537 63.184 186.929 63.184ZM191.376 66.16L192.768 57.4H193.848L193.644 58.66H193.656C193.776 58.22 194.008 57.88 194.352 57.64C194.704 57.4 195.144 57.28 195.672 57.28C196.32 57.28 196.804 57.504 197.124 57.952C197.452 58.392 197.56 58.984 197.448 59.728L197.148 61.66C197.028 62.436 196.74 63.04 196.284 63.472C195.836 63.904 195.268 64.12 194.58 64.12C194.1 64.12 193.716 63.996 193.428 63.748C193.148 63.492 193.012 63.156 193.02 62.74H192.984L192.768 64.24L192.456 66.16H191.376ZM194.376 63.184C194.832 63.184 195.208 63.064 195.504 62.824C195.8 62.584 195.988 62.196 196.068 61.66L196.368 59.74C196.456 59.196 196.388 58.808 196.164 58.576C195.948 58.336 195.612 58.216 195.156 58.216C194.716 58.216 194.344 58.356 194.04 58.636C193.736 58.916 193.544 59.304 193.464 59.8L193.188 61.6C193.108 62.096 193.176 62.484 193.392 62.764C193.608 63.044 193.936 63.184 194.376 63.184Z"
                  fill="var(--figma-color-text-secondary)"
                />
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closepeakHeightModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>
        <input
          type="number"
          class="input__field input-width"
          id="peakRatio"
          value="1"
          required
          min="0.1"
          step="any"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>

      <div class="row-input">
        <div style="display: flex; gap: 0.25rem; align-items: center">
          <label for="lineOffset">Offset lines</label>
          <button
            type="button"
            class="icon-button info-button"
            id="openoffsetModal"
          >
            <svg width="12" height="12" viewBox="0 0 12 12">
              <path
                d="M3 1C1.89543 1 1 1.89551 1 3V9C1 10.1045 1.89543 11 3 11H9C10.1046 11 11 10.1045 11 9V3C11 1.89551 10.1046 1 9 1H3ZM5 2H7V4H5V2ZM4 5H7V10H5V6H4V5Z"
                fill="currentColor"
              />
            </svg>
          </button>
        </div>
        <dialog class="modal" id="offsetModal">
          <div class="modalcontent">
            <div class="type type--bold">Offset lines</div>
            <div class="type">
              This value controls the distance by which the lines are offset
              from the top and bottom edges of the shape. This microadjustment
              helps in getting an accurate read of the shape when embossed.
            </div>
            <div
              style="
                display: flex;
                flex-direction: column;
                gap: 1rem;
                margin-top: 1rem;
              "
            >
              <svg
                width="208"
                height="136"
                viewBox="0 0 208 136"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="208"
                  height="136"
                  rx="2"
                  fill="var(--figma-color-bg-secondary)"
                />
                <rect
                  opacity="0.1"
                  x="32"
                  y="20"
                  width="144"
                  height="116"
                  fill="black"
                />
                <path
                  d="M28 48L33.7735 38H22.2265L28 48ZM29 39V20.5H27V39H29Z"
                  fill="var(--figma-color-bg-brand)"
                />
                <path
                  d="M32 49H64H80H128H144H176"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-width="4"
                />
                <path
                  opacity="0.15"
                  d="M32 73H64H80H128H144H176"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  opacity="0.1"
                  d="M32 97H64H80H128H144H176"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  opacity="0.05"
                  d="M32 121H64H80H128H144H176"
                  stroke="black"
                  stroke-width="4"
                />
                <path
                  d="M4 20.5L204 20.5"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-dasharray="2 2"
                />
                <path
                  d="M4 48.5L204 48.5"
                  stroke="var(--figma-color-bg-brand)"
                  stroke-dasharray="2 2"
                />
                <path
                  d="M36.132 32L38.952 28.568L37.32 25.4H38.568L39.504 27.44C39.544 27.528 39.584 27.624 39.624 27.728C39.672 27.832 39.704 27.916 39.72 27.98C39.76 27.916 39.812 27.832 39.876 27.728C39.94 27.624 40.004 27.528 40.068 27.44L41.64 25.4H42.924L40.284 28.652L42.012 32H40.764L39.744 29.84C39.704 29.752 39.66 29.652 39.612 29.54C39.572 29.42 39.54 29.324 39.516 29.252C39.468 29.324 39.408 29.42 39.336 29.54C39.264 29.652 39.192 29.752 39.12 29.84L37.416 32H36.132Z"
                  fill="var(--figma-color-text-secondary)"
                />
              </svg>
            </div>
            <button
              type="button"
              class="icon-button close-button"
              id="closeoffsetModal"
            >
              <svg width="24" height="24" viewBox="0 0 24 24">
                <path
                  d="M12 11.2931L16.6465 6.64661L17.3536 7.35371L12.7071 12.0002L17.3536 16.6466L16.6465 17.3537L12 12.7073L7.35359 17.3537L6.64648 16.6466L11.2929 12.0002L6.64649 7.35379L7.35359 6.64668L12 11.2931Z"
                  fill="currentColor"
                />
              </svg>
            </button>
          </div>
        </dialog>

        <input
          type="number"
          class="input__field input-width"
          id="lineOffset"
          value="1"
          required
          min="0.1"
          max="2"
          step="0.1"
          pattern="[0-9]+([.,][0-9]+)?"
        />
      </div>
    </div>
  </div>
  <div class="button-row">
    <button id="create" class="button button--primary">Create lines</button>
    <button type="button" id="resetButton" class="button button--tertiary">
      Reset
    </button>
  </div>
</form>

<script>
  // Function to reset the values
  function resetToDefault() {
    document.getElementById("lineNumber").value = "24";
    document.getElementById("strokeTop").value = "4";
    document.getElementById("strokeBottom").value = "2";
    document.getElementById("strokeColor").value = "#ffffff";
    document.getElementById("contrast").value = "0";
    document.getElementById("peakCorner").value = "0";
    document.getElementById("baseCorner").value = "32";
    document.getElementById("baseFade").value = "16";
    document.getElementById("lineOffset").value = "1";
    document.getElementById("peakRatio").value = "1";
    document.getElementById("patternWidth").value = "3";

    // Reset the slider background
    var contrastSlider = document.getElementById("contrast");
    contrastSlider.style.background = `linear-gradient(
        to right,
        var(--figma-color-bg-brand) 0%,
        var(--figma-color-bg-brand) 0%,
        var(--figma-color-bg-secondary) 0%,
        var(--figma-color-bg-secondary) 100%
    )`;
  }

  // Function to update slider
  function updateSlider(slider) {
    var value = slider.value;
    var max = slider.max;
    var min = slider.min;

    // Calculate percentage of slider
    var percentage = ((value - min) / (max - min)) * 100;

    // Update gradient background
    slider.style.background = `linear-gradient(
    to right,
    var(--figma-color-bg-brand) 0%,
    var(--figma-color-bg-brand) ${percentage}%,
    var(--figma-color-bg-secondary) ${percentage}%,
    var(--figma-color-bg-secondary) 100%
  )`;
  }

  // Info bottomsheet definitions
  const openContrastModal = document.querySelector("#openContrastModal");
  const closeContrastModal = document.querySelector("#closeContrastModal");
  const contrastModal = document.querySelector("#contrastModal");
  openContrastModal.addEventListener("click", () => {
    contrastModal.showModal();
  });
  closeContrastModal.addEventListener("click", () => {
    contrastModal.close();
  });
  contrastModal.addEventListener("click", (e) => {
    if (e.target == contrastModal) {
      contrastModal.close();
    }
  });

  const openpeakCornerModal = document.querySelector("#openpeakCornerModal");
  const closepeakCornerModal = document.querySelector("#closepeakCornerModal");
  const peakCornerModal = document.querySelector("#peakCornerModal");
  openpeakCornerModal.addEventListener("click", () => {
    peakCornerModal.showModal();
  });
  closepeakCornerModal.addEventListener("click", () => {
    peakCornerModal.close();
  });
  peakCornerModal.addEventListener("click", (e) => {
    if (e.target == peakCornerModal) {
      peakCornerModal.close();
    }
  });

  const openbaseCornerModal = document.querySelector("#openbaseCornerModal");
  const closebaseCornerModal = document.querySelector("#closebaseCornerModal");
  const baseCornerModal = document.querySelector("#baseCornerModal");
  openbaseCornerModal.addEventListener("click", () => {
    baseCornerModal.showModal();
  });
  closebaseCornerModal.addEventListener("click", () => {
    baseCornerModal.close();
  });
  baseCornerModal.addEventListener("click", (e) => {
    if (e.target == baseCornerModal) {
      baseCornerModal.close();
    }
  });

  const openbaseFadeModal = document.querySelector("#openbaseFadeModal");
  const closebaseFadeModal = document.querySelector("#closebaseFadeModal");
  const baseFadeModal = document.querySelector("#baseFadeModal");
  openbaseFadeModal.addEventListener("click", () => {
    baseFadeModal.showModal();
  });
  closebaseFadeModal.addEventListener("click", () => {
    baseFadeModal.close();
  });
  baseFadeModal.addEventListener("click", (e) => {
    if (e.target == baseFadeModal) {
      baseFadeModal.close();
    }
  });

  const openlineWidthModal = document.querySelector("#openlineWidthModal");
  const closelineWidthModal = document.querySelector("#closelineWidthModal");
  const lineWidthModal = document.querySelector("#lineWidthModal");
  openlineWidthModal.addEventListener("click", () => {
    lineWidthModal.showModal();
  });
  closelineWidthModal.addEventListener("click", () => {
    lineWidthModal.close();
  });
  lineWidthModal.addEventListener("click", (e) => {
    if (e.target == lineWidthModal) {
      lineWidthModal.close();
    }
  });

  const openpeakHeightModal = document.querySelector("#openpeakHeightModal");
  const closepeakHeightModal = document.querySelector("#closepeakHeightModal");
  const peakHeightModal = document.querySelector("#peakHeightModal");
  openpeakHeightModal.addEventListener("click", () => {
    peakHeightModal.showModal();
  });
  closepeakHeightModal.addEventListener("click", () => {
    peakHeightModal.close();
  });
  peakHeightModal.addEventListener("click", (e) => {
    if (e.target == peakHeightModal) {
      peakHeightModal.close();
    }
  });

  const openoffsetModal = document.querySelector("#openoffsetModal");
  const closeoffsetModal = document.querySelector("#closeoffsetModal");
  const offsetModal = document.querySelector("#offsetModal");
  openoffsetModal.addEventListener("click", () => {
    offsetModal.showModal();
  });
  closeoffsetModal.addEventListener("click", () => {
    offsetModal.close();
  });
  offsetModal.addEventListener("click", (e) => {
    if (e.target == offsetModal) {
      offsetModal.close();
    }
  });

  /// Event listener to slider input
  document.getElementById("contrast").addEventListener("input", function () {
    updateSlider(this);
  });

  // Event listener to the reset button
  document
    .getElementById("resetButton")
    .addEventListener("click", resetToDefault);

  document.getElementById("create").onclick = (event) => {
    const form = document.querySelector("form");

    // Check if the form is valid based on HTML5 input attributes
    if (!form.checkValidity()) {
      // If the form is not valid, stop the postMessage
      return;
    }

    // If the form is valid, prevent the default form submission
    event.preventDefault(); // Prevent form submission

    const lineNumber = parseInt(
      document.getElementById("lineNumber").value,
      10
    );
    const strokeTop = parseFloat(document.getElementById("strokeTop").value);
    const strokeBottom = parseFloat(
      document.getElementById("strokeBottom").value
    );
    const peakCorner = parseFloat(document.getElementById("peakCorner").value);
    const baseCorner = parseFloat(document.getElementById("baseCorner").value);
    const baseFade = parseFloat(document.getElementById("baseFade").value);
    const lineOffset = parseFloat(document.getElementById("lineOffset").value);
    const peakRatio = parseFloat(document.getElementById("peakRatio").value);
    const contrast = parseFloat(document.getElementById("contrast").value);
    const patternWidth = parseFloat(
      document.getElementById("patternWidth").value
    );
    const strokeColor = document.getElementById("strokeColor").value;
    parent.postMessage(
      {
        pluginMessage: {
          type: "create-emboss",
          lineNumber,
          strokeTop,
          strokeBottom,
          peakCorner,
          baseCorner,
          baseFade,
          lineOffset,
          peakRatio,
          strokeColor,
          contrast,
          patternWidth,
        },
      },
      "*"
    );
  };
</script>
